## 位运算

| 表示按位或



原码、反码、补码

假设 x = 1010

原码：000...01010

反码：111...10101（对原码每一位取反）

补码：反码 + 1



### n的二进制表示中第k位是几

思路：

1. 先把第 k 位移到最后一位，n >> k
2. 看个位是几

综上：

(n >> k) & 1



### lowbit

返回x的最后一位1



x = 1010，lowbit(x) = 10

x = 101000，lowbit(x) = 1000



如何算：

`x & (-x)`

-x就等于x的反码 + 1

那么，`x & (-x)` 就等于`x & (~x + 1)` ，这里的~x是取反的意思。



我的理解：先取反，然后加1，其实就是将x的二进制表示式中，最后一个bit 1前面的都取反，后面的保持一致，这样与的结果就是最后一位bit1。



提问：为什么-x就等于x的反码 + 1呢？

公式，对x取反，就等于`-(x+1)`，即`~x = -(x+1)`

那么，`~x + 1 = -x`



应用：可以统计x的二进制表示中1的个数

```java
int cnt = 0;

while (x > 0) {
  x -= lowbit(x);
  cnt++;
}
```

